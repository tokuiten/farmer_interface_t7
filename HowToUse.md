# 2. ユースケース

## 2.1 メインフロー

1. **収穫設定**:事務所でPC操作により収穫計画を設定する
2. **ロボット移動**: 各ロボットを開始地点まで運ぶ
3. **収穫実行**: 設定確認後、各ロボットの操作パネルから収穫作業を開始する
4. **エラー対応**: エラー発生時の対応と復旧作業をする
5. **収穫後作業**: 収穫完了後、充電ステーションへロボットを運ぶ

## 2.2 詳細ユースケース

### 収穫設定

- 事務所のPCのブラウザで収穫設定UIを起動する
- 各ロボットの状態と位置を確認する
- クイック設定からプリセットを選ぶ
    - 例えば「２台で全面収穫」、「１台で全面収穫」など
- 詳細設定を確認・編集する
    - 熟度しきい値の設定
    - 目標収穫量の設定
    - 各ロボットの設定
        - 開始レーンの選択（エリア名、通路番号）
        - 終了レーンの選択（エリア名、通路番号）
        - 進行方向の選択（時計回り/反時計回り）
- 収穫ロボの移動軌跡を確認する
- 各ロボットに設定を送信する

### ロボット移動

- ロボットに空の収穫カゴをセットする
- ロボットに搭載されたJOYSTICKを操作して開始地点まで移動する
- 通路の障害物を確認する

### 収穫実行

- ロボットに搭載されたディスプレイを見て収穫設定を確認する
    - 開始レーン、移動軌跡、終了レーン
    - 収穫計画
        - 収穫量、熟度、収穫時間
- 物理ボタンを押して収穫を開始する

### エラー対応

- ロボットが何かにぶつかった場合
    - バンパーが反応して停止する
    - スピーカーとパトライトで周囲の人に通知する
    - Slackで関係者に通知する
    - 復旧する
- 収穫ロボのソフトがエラーになった場合

### 収穫後作業

- ロボットの収穫カゴを回収する
- ロボットに搭載されたJOYSTICKを操作して充電地点まで移動する
- 充電する

## 2.3 例外ユースケース

- 充電し忘れた場合
    - Slackで充電忘れを通知する
- ロボットが暴走した場合
    - 非常停止ボタンを押す
    - 無線リモコンで停止する